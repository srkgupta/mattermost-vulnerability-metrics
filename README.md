# Mattermost Vulnerability Metrics 

**Maintainer**: [@srkgupta](https://github.com/srkgupta)

This is a lambda function which runs on AWS and creates the vulnerability metrics into a S3 bucket. 

## Environment Variables

This lambda function expects following environmental variables to be added before executing the function:

* MATTERMOST_TOKEN - The Authentication token of the logged in Mattermost user/bot who has access to the playbook
* JIRA_EMAIL - The email address of the JIRA User whose personal token will be used
* JIRA_TOKEN - Personal Access Token generated for JIRA integration
* S3_BUCKET - S3 Bucket where the output will be generated and stored in a CSV file

Optional Params:
* MATTERMOST_URL - The URL of the Mattermost instance. Default: https://community-daily.mattermost.com
* JIRA_URL - The URL of the Jira instance. Default: https://mattermost.atlassian.net


## Build & Upload to AWS Lambda
* Run the command: `GOOS=linux GOARCH=amd64 go build`
* It would create a binary `mattermost-vulnerability-metrics`
* Zip the contents: `zip mattermost-vulnerability-metrics.zip mattermost-vulnerability-metrics`
* Upload the output zip file

